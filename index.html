<!DOCTYPE html>
<html>
	<head>
		<title>Rock Paper Scissors</title>
		<meta charset="UTF-8/">
	</head>
	<body>
	<script>
		function computerPlay(){
			let no = Math.random();
			if(no < 1/3){
				return "scissors"
			}
			else if(no < 2/3){
				return "rock"
			}
			else{
				return "paper"
			}
		}
		
		function playRound(playerSelection, computerSelection){
			
			playerSelection = playerSelection.toLowerCase();
			computerSelection = computerSelection.toLowerCase();

			let scissors = "Scissors";
			let rock = "Rock";
			let paper = "Paper";
			let result;

			if(playerSelection == "scissors" && computerSelection == "paper") {
				result = "w";
			}
			else if(playerSelection == "paper" && computerSelection == "rock"){
				result = "w";
			}
			else if(playerSelection == "rock" && computerSelection == "scissors"){
				result = "w";
			}
			else if(playerSelection == computerSelection){
				result = "t";
			}
			else{
				result = "l";
			}
			return result;
		}
		
		function game() {
			//counter for score
			var score = 0;

			for(var i = 0; i < 5; i++){
				let playerChoice = null;
				while(playerChoice != "rock" && playerChoice != "paper" && playerChoice != "scissors"){
					playerChoice = window.prompt("round " + (i+1) + ": Rock, Paper or Scissors?").toLowerCase();
				}
				var opponentChoice = computerPlay();
				let result = playRound(playerChoice, opponentChoice);
				if(result == "w"){
					score++;
				}
				else if(result == "l"){
					score--;
				}
			}
			
			if(score > 0){
				return "You Win!";
			}
			else if(score < 0){
				return "You lose...";
			}
			else{
				return "tie."
			}

		}
		console.log(game());
	</script>
	</body>
</html>
